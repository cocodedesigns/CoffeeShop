<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get in Touch | The Cosy Crit</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/fonts/fontawesome/css/all.min.css">

    <!-- jQuery -->
    <script src="/js/jquery.min.js"></script>
    
    <!-- IntlTelInput -->
    <link rel="stylesheet" href="/css/intlTelInput.min.css" />
    <script src="/js/intlTelInput/intlTelInput.min.js"></script>

    <!-- Turnstile -->
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js"></script>

    <!-- Cookie Banner -->
    <link rel="stylesheet" href="/css/silktide-consent-manager.css" />
    <script src="/js/silktide-consent-manager.js"></script>
</head>
<body>
    <header id="site-header">
        <div class="container">
            <figure id="logo">
                <a href="/" class="home-link" aria-label="Click to go back to The Cosy Crit homepage">
                    <img src="/images/logo.svg" alt="The Cosy Crit" />
                </a>
            </figure> <!-- #logo -->
            
            <nav id="site-nav">
                <ul class="menu">
                    <li class="menu-item">
                        <a href="/about/" class="link" aria-label="Find out more about The Cosy Crit">About Us</a>
                    </li>
                    <li class="menu-item">
                        <a href="/drinks/" class="link" aria-label="Read our drinks menu">Drinks Menu</a>
                    </li>
                    <li class="menu-item">
                        <a href="/pastries/" class="link" aria-label="Read our pastries menu">Pastries Menu</a>
                    </li>
                    <li class="menu-item">
                        <a href="/contact/" class="link" aria-label="Get in touch with The Cosy Crit">Get in Touch</a>
                    </li>
                </ul> <!-- .menu -->
            </nav> <!-- #site-nav -->
        </div>
    </header>

    <main id="site-body" class="contact-page">
        <figure class="page-title">
            <div class="container">
                <h1 class="title">Get in Touch</h1>
            </div>
        </figure>

        <article class="body-text contact-page">
            <div class="container page-container">
                <article class="map">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2371.199409194781!2d-2.2426316840786536!3d53.48075907999861!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x487bb1d6ecbff3d7%3A0x7b5f16bbef9f472b!2sManchester%20City%20Centre!5e0!3m2!1sen!2suk!4v1712739465555!5m2!1sen!2suk" 
                        width="600" 
                        height="450" 
                        style="border:0;" 
                        allowfullscreen="" 
                        loading="lazy" 
                        referrerpolicy="no-referrer-when-downgrade" title="Map of The Cosy Crit">
                    </iframe>
                </article>

                <aside class="details">
                    <ul class="contact-details">
                        <li class="method telephone">
                            <i class="contact-icon fa-solid fa-phone-volume"></i>
                            <div class="data">
                                <p class="contact-title">Telephone</h6>
                                <p class="info"><a href="tel:+441614960420" aria-label="Call The Cosy Crit on 0161 496 0420">0161 496 0420</a></p>
                            </div>
                        </li>

                        <li class="method email">
                            <i class="contact-icon fa-solid fa-at"></i>
                            <div class="data">
                                <p class="contact-title">Email</h6>
                                <p class="info"><a href="mailto:hithere@thecosycrit.com" aria-label="Email The Cosy Crit at hithere@thecosycrit.com">hithere@thecosycrit.com</a></p>
                            </div>
                        </li>

                        <li class="method messengers">
                            <i class="contact-icon fa-solid fa-comment-dots"></i>
                            <div class="data">
                                <p class="contact-title">Message us on</h6>
                                <p class="info">
                                    <a href="https://wa.me/+447700900420" class="msg whatsapp" aria-label="Message The Cosy Crit on WhatsApp">
                                        <i class="network-icon fa-brands fa-whatsapp"></i>
                                        <span class="label">WhatsApp</span>
                                    </a>

                                    <a href="https://m.me/" class="msg facebook-messenger" aria-label="Message The Cosy Crit on Facebook Messenger">
                                        <i class="network-icon fa-brands fa-facebook-messenger"></i>
                                        <span class="label">Facebook Messenger</span>
                                    </a>
                                </p>
                            </div>
                        </li>
                    </ul> <!-- .contact-details -->
                </aside> <!-- .details -->

                <form action="" class="contact-form" method="POST">
                    <div id="form-notice" class="notice">
                        <div class="alert {{ ALERT_CLASS }}">
                            <div class="icon">
                                <i class="{{ ICON_CLASS }}"></i>
                            </div>
                            <div class="text">
                                <p>{{ ALERT_TEXT }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="row form-row fields-two name">
                        <div class="field first-name">
                            <label class="label" for="firstname">First Name:</label>
                            <input type="text" name="firstname" id="firstname" class="form-field text-field" placeholder="First Name" />
                        </div>

                        <div class="field last-name">
                            <label class="label" for="lastname">Last Name:</label>
                            <input type="text" name="lastname" id="lastname" class="form-field text-field" placeholder="Last Name" />
                        </div>
                    </div>

                    <div class="row form-row fields-two contact">
                        <div class="field email">
                            <label class="label" for="email">Email:</label>
                            <input type="email" name="email" id="email" class="form-field text-field" placeholder="me@email.com" />
                        </div>

                        <div class="field telno">
                            <label class="label" for="telno">Telephone number:</label>
                            <input type="text" name="telno" id="telno" class="form-field text-field intlTelInput" placeholder="+44" />
                        </div>
                    </div>

                    <div class="row form-row field-one message">
                        <div class="field msg">
                            <label class="label" for="msg">Message:</label>
                            <textarea name="msg" id="msg" class="form-field textarea-field"></textarea>
                        </div>
                    </div>

                    <div class="row form-row field-one captcha">
                        <div class="field captcha-field">
                            <div class="cf-turnstile" data-sitekey="0x4AAAAAABHebg3ThHpZt0cw" data-theme="light" data-size="flexible"></div>
                        </div>
                    </div>
                    
                    <div class="buttons">
                        <button class="form-field button-field primary-button" name="submitform" id="submitform">
                            <span class="button-label">Submit Form</span>
                        </button>
                    </div>
                </form> <!-- .contact-form -->
            </div>
        </article>
    </main>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            document.querySelector(".contact-form").addEventListener("submit", function (e) {
                e.preventDefault();
                let formData = new FormData(this);
                fetch("/process/contact.php", {
                    method: "POST",
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    const formNotice = document.getElementById("form-notice");
                    const alertDiv = formNotice.querySelector(".alert");
                    const iconDiv = alertDiv.querySelector(".icon");
                    const textDiv = alertDiv.querySelector(".text p");
                    if (data.success) {
                        // Update for success
                        alertDiv.classList.add("success");
                        alertDiv.classList.remove("error");
                        iconDiv.innerHTML = '<i class="fa-solid fa-check"></i>';
                        textDiv.textContent = data.message || "Form submitted successfully!";
                        formNotice.style.display = "block"; // Show the notice
                        document.querySelector(".contact-form").reset();
                    } else {
                        // Update for error
                        alertDiv.classList.add("error");
                        alertDiv.classList.remove("success");
                        iconDiv.innerHTML = '<i class="fa-solid fa-triangle-exclamation submitted"></i>';
                        textDiv.textContent = data.message || "An error occurred. Please try again.";
                        formNotice.style.display = "block"; // Show the notice
                    }
                    // Fade out after 7 seconds
                    setTimeout(function() {
                        formNotice.style.opacity = "0";
                        setTimeout(function() {
                            formNotice.style.display = "none"; // Hide after fade
                        }, 1000); // Wait for the transition to complete
                    }, 7000); // 7 seconds delay before fade
                })
                .catch(error => {
                    // Update for error
                    const formNotice = document.getElementById("form-notice");
                    const alertDiv = formNotice.querySelector(".alert");
                    const iconDiv = alertDiv.querySelector(".icon");
                    const textDiv = alertDiv.querySelector(".text p");
                    alertDiv.classList.add("error");
                    alertDiv.classList.remove("success");
                    iconDiv.innerHTML = '<i class="fa-solid fa-triangle-exclamation"></i>';
                    textDiv.textContent = "An error occurred. Please try again.";
                    formNotice.style.display = "block"; // Show the notice
                    console.error(error);
                    // Fade out after 7 seconds
                    setTimeout(function() {
                        formNotice.style.opacity = "0";
                        setTimeout(function() {
                            formNotice.style.display = "none"; // Hide after fade
                        }, 1000); // Wait for the transition to complete
                    }, 7000); // 7 seconds delay before fade
                });
            });
        });
    </script>
    <script>
        const input = document.querySelector(".intlTelInput");
        window.intlTelInput(input, {
            initialCountry: "GB",
            loadUtils: () => import("/js/intlTelInput/utils.js"),
        });
    </script>

    <footer id="site-footer">
        <div class="container">
            <div id="socials">
                <ul class="networks">
                    <li class="network">
                        <a href="https://www.facebook.com/" target="_blank" class="link facebook" aria-label="Find The Cosy Crit on Facebook">
                            <i class="fa-brands fa-facebook-f"></i>
                            <span class="label">Facebook</span>
                        </a>
                    </li>

                    <li class="network">
                        <a href="https://www.instagram.com/" target="_blank" class="link instagram" aria-label="Find The Cosy Crit on Instagram">
                            <i class="fa-brands fa-instagram"></i>
                            <span class="label">Instagram</span>
                        </a>
                    </li>

                    <li class="network">
                        <a href="https://bsky.app/" target="_blank" class="link bluesky" aria-label="Find The Cosy Crit on Bluesky">
                            <i class="fa-brands fa-bluesky"></i>
                            <span class="label">BlueSky</span>
                        </a>
                    </li>
                    <li class="network">
                        <a href="https://www.twitch.tv/" target="_blank" class="link twitch" aria-label="What The Cosy Crit streaming on Twitch">
                            <i class="fa-brands fa-twitch"></i>
                            <span class="label">Twitch</span>
                        </a>
                    </li>
                </ul> <!-- .networks -->
            </div> <!-- #socials -->

            <div id="copyright">
                <p>Copyright &copy; 2025 The Cosy Crit. All rights reserved. <a href="/privacy/" aria-label="Read our Privacy Policy">Privacy Policy</a></p>
                <p>Powered by <a href="https://pages.github.com/" target="_blank" aria-label="Powered by GitHub Pages">GitHub Pages</a> and <a href="https://wearecodenation.com" target="_blank" aria-label="Powered by Code Nation">Code Nation</a>. Designed with <i class="heart fa-solid fa-heart"></i>. Created by <a href="https://nathanhawkes.dev/" target="_blank" aria-label="Visit the website of Nathan Hawkes, the developer of this masterpiece">Nathan Hawkes</a>.</p>
            </div>
        </div>
    </footer>
</body>
</html>